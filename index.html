<html>
<head>
    <link rel="stylesheet" href="index.css">
    <title>Birthday Calendar</title>
</head>
<script>
    const WEEK_DAYS = [
        'MON',
        'TUE',
        'WED',
        'THU',
        'FRI',
        'SAT',
        'SUN'
    ];
    const WEEK_DAYS_MAPPING = {
        0: 'SUN',
        1: 'MON',
        2: 'TUE',
        3: 'WED',
        4: 'THU',
        5: 'FRI',
        6: 'SAT'
    };
    const JSON = [
        {
            name: "Tyrion Lannister",
            birthday: "12//1978"
        },
        {
            name: "Cersei Lannister",
            birthday: "11/30/1975"
        },
        {
            name: "Daenerys Targaryen",
            birthday: "11/24/1991"
        },
        {
            name: "Arya Stark",
            birthday: "11/25/1996"
        },
        {
            name: "Jon Snow",
            birthday: "12/03/1989"
        },
        {
            name: "Sansa Stark",
            birthday: "15/08/1992"
        },
        {
            name: "Jorah Mormont",
            birthday: "12/16/1968"
        },
        {
            name: "Jaime Lannister",
            birthday: "12/06/1975"
        },
        {
            name: "Sandor Clegane",
            birthday: "11/07/1969"
        },
        {
            name: "Tywin Lannister",
            birthday: "10/12/1951"
        },
        {
            name: "Theon Greyjoy",
            birthday: "12/31/1989"
        },
        {
            name: "Samwell Tarly",
            birthday: "12/07/1990"
        },
        {
            name: "Joffrey Baratheon",
            birthday: "06/12/1992"
        },
        {
            name: "Catelyn Stark",
            birthday: "12/03/1962"
        },
        {
            name: "Bran Stark",
            birthday: "12/02/1995"
        },
        {
            name: "Petyr Baelish",
            birthday: "11/20/1974"
        },
        {
            name: "Robb Stark",
            birthday: "11/28/1986"
        },
        {
            name: "Brienne of Tarth",
            birthday: "11/27/1985"
        },
        {
            name: "Margaery Tyrell",
            birthday: "12/02/1989"
        },
        {
            name: "Stannis Baratheon",
            birthday: "09/14/1971"
        },
        {
            name: "Davos Seaworth",
            birthday: "02/13/1973"
        },
        {
            name: "Tormund Giantsbane",
            birthday: "12/14/1974"
        },
        {
            name: "Jeor Mormont",
            birthday: "11/01/1955"
        },
        {
            name: "Eddard Stark",
            birthday: "12/02/1963"
        },
        {
            name: "Khal Drogo",
            birthday: "12/05/1980"
        },
        {
            name: "Ramsay Bolton",
            birthday: "12/05/1976"
        },
        {
            name: "Robert Baratheon",
            birthday: "12/02/1965"
        },
        {
            name: "Daario Naharis",
            birthday: "12/02/1985"
        },
        {
            name: "Viserys Targaryen",
            birthday: "12/06/1984"
        }
    ]

    function f() {
        WEEK_DAYS.map((item, index) => {
            let div = document.createElement("div");
            div.setAttribute("style", "padding:10px;flex-basis:14%");

            let innerDiv = document.createElement("div");
            innerDiv.setAttribute('class', 'innerDiv')

            div.appendChild(innerDiv)
            innerDiv.setAttribute("id", `innerDiv`);

            let headingDiv = document.createElement("div");
            headingDiv.setAttribute('class', 'headerContainer')
            innerDiv.appendChild(headingDiv);

            let textContainer = document.createElement("span");
            let text = document.createTextNode(item);
            textContainer.appendChild(text);
            textContainer.style.color = '#dfdbf9';
            headingDiv.appendChild(textContainer);
            document.getElementById("container").appendChild(div);


            let birthdayContent = document.createElement('div');
            birthdayContent.setAttribute('class', 'birthdayCardsContainer')
            birthdayContent.setAttribute('id', item.toLowerCase())
            innerDiv.appendChild(birthdayContent);
        })
        parseJsonAndInsertCell(JSON)
    }

    function parseJsonAndInsertCell(data) {
        data.map((date => {
            let day = new Date(date.birthday).getDay();
            if (day) {
                let birthdayCell = document.createElement("div");
                birthdayCell.setAttribute('class', 'birthdayCell')
                birthdayCell.setAttribute("style", `background-color:${getRandomColor()}`);
                document.getElementById(WEEK_DAYS_MAPPING[day]?.toLowerCase()).appendChild(birthdayCell)
            }
        }));
    }


    function getRandomColor() {
        let letters = 'ABCDEF'.split('');
        let color = '#';
        for (let i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * letters.length)];
        }
        return color;
    }
</script>
<body onload="f()">
<div id="root" style="width: 100%;height: 100%;background-color: #ebf0f2">
    <div id="container" style="flex-direction: row;display: flex">

    </div>
</div>
</body>
</html>
